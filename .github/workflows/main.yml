name: Daily Stock Screener

on:
  schedule:
    # æ¯å¤© UTC æ—¶é—´ 20:00 è‡ªåŠ¨è¿è¡Œï¼ˆâ‰ˆ å¡å°”åŠ é‡Œä¸‹åˆ 2:00ï¼Œç¾è‚¡æ”¶ç›˜åï¼‰
    - cron: "0 20 * * *"
  workflow_dispatch:  # å…è®¸æ‰‹åŠ¨è§¦å‘ï¼ˆä½ ä¹Ÿå¯ä»¥éšæ—¶ç‚¹å‡»è¿è¡Œï¼‰

jobs:
  run-screener:
    runs-on: ubuntu-latest

    steps:
    - name: ğŸ§­ Checkout repository
      uses: actions/checkout@v4

    - name: ğŸ Set up Python
      uses: actions/setup-python@v5
      with:
        python-version: "3.11"

    - name: ğŸ“¦ Install dependencies
      run: |
        pip install yfinance pandas numpy matplotlib ta

    - name: ğŸš€ Run the stock screener
      run: |
        python main.py

    - name: ğŸ’¾ Upload result file
      uses: actions/upload-artifact@v4
      with:
        name: results
        path: results.csv
